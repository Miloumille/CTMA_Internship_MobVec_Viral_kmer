```{r}
library(purrr)

listfiles <- "../data_sequencing/2/raw/barcode01.fastq"
filename <- map_chr(.x = basename(listfiles),.f = function(x) strsplit(x,split='.fastq')[[1]][1])
data.frame(listfiles,filename)

############### minikraken2

nfiles <- length(filename)
c('~/Users/emilevancauwenberghe/Documents/code/databases/kraken/k2_standard_08gb_20240904/')

for(i in 1:nfiles)
  {
  myarg <- paste0('run --rm -v ./:/data --rm -v /Users/emilevancauwenberghe/Documents/code/databases/kraken/k2_standard_08gb_20240904:/krakendb --cpus=4 staphb/kraken2:2.1.3 sh -c "kraken2  --use-names --threads 4 --db /krakendb/k2_standard_08gb_20240904 /data/',listfiles[i],' --report /data/results/kraken2_k2_standard/short_',filename[i],'"')
  myarg
  system2(command='docker',args=myarg)  
  print(i)
  }


```

